{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nexport var CREATE_PET = \"CREATE_PET\";\nexport var UPDATE_PET = \"UPDATE_PET\";\nexport var DELETE_PET = \"DELETE_PET\";\nexport var GETALL_PET = \"GETALL_PET\";\nexport var SEARCH_PET = \"SEARCH_PET\";\nexport var getAllPet = function getAllPet(Shop) {\n  return {\n    type: \"GETALL_PET\",\n    payload: Shop\n  };\n};\nexport var fetchAllPet = function fetchAllPet() {\n  console.log(\"fetchAllPet\");\n  return function (dispatch) {\n    var getData = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var response = yield fetch(\"http://localhost:5000/Shop\");\n          var pet = yield response.json();\n          console.log(\"here\", pet);\n          dispatch(getAllPet(pet));\n        } catch (err) {\n          console.error(err);\n        }\n      });\n      return function getData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    getData();\n  };\n};\nexport var SearchPet = function SearchPet(pet) {\n  return {\n    type: SEARCH_PET,\n    payload: pet\n  };\n};\nexport var searchPet = function searchPet(key) {\n  return function (dispatch) {\n    var getData = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var response = yield fetch(\"http://localhost:5000/searchPet/\" + key);\n          var pet = yield response.json();\n          dispatch(SearchPet(pet));\n        } catch (err) {\n          console.error(err);\n        }\n      });\n      return function getData() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    getData();\n  };\n};\n\nexport var createPet = function createPet(pet) {\n  return {\n    type: \"CREATE_PET\",\n    payload: pet\n  };\n};\nexport var postPet = function postPet(pet) {\n  return function (dispatch) {\n    var addData = function () {\n      var _ref3 = _asyncToGenerator(function* () {\n        try {\n          yield fetch(\"http://localhost:5000/addPet\", {\n            method: \"POST\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(pet)\n          });\n        } catch (err) {\n          console.error(err);\n        }\n      });\n      return function addData() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    addData();\n    dispatch(createPet(pet));\n  };\n};\n\nexport var UpdatePet = function UpdatePet(docId, pet) {\n  return {\n    type: \"UPDATE_PET\",\n    payload: {\n      docId: docId,\n      pet: pet\n    }\n  };\n};\nexport var updatePet = function updatePet(docId, pet) {\n  console.log(\"docId\", docId);\n  console.log(\"pet\", pet);\n  return function (dispatch) {\n    var updateData = function () {\n      var _ref4 = _asyncToGenerator(function* () {\n        try {\n          yield fetch(\"http://localhost:5000/updatePet/\" + docId, {\n            method: \"PUT\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(pet)\n          });\n        } catch (err) {\n          console.error(err);\n        }\n      });\n      return function updateData() {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    updateData();\n    dispatch(UpdatePet(docId, pet));\n    dispatch(fetchAllPet());\n  };\n};\n\nexport var DeletePet = function DeletePet(docId) {\n  return {\n    type: \"DELETE_PET\",\n    payload: {\n      docId: docId\n    }\n  };\n};\nexport var deletePet = function deletePet(docId) {\n  return function (dispatch) {\n    var deleteData = function () {\n      var _ref5 = _asyncToGenerator(function* () {\n        try {\n          yield fetch(\"http://localhost:5000/deletePet/\" + docId, {\n            method: \"DELETE\"\n          });\n        } catch (err) {\n          console.error(err);\n        }\n      });\n      return function deleteData() {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n    deleteData();\n    dispatch(DeletePet(docId));\n    dispatch(fetchAllPet());\n  };\n};","map":{"version":3,"names":["CREATE_PET","UPDATE_PET","DELETE_PET","GETALL_PET","SEARCH_PET","getAllPet","Shop","type","payload","fetchAllPet","console","log","dispatch","getData","response","fetch","pet","json","err","error","SearchPet","searchPet","key","createPet","postPet","addData","method","headers","Accept","body","JSON","stringify","UpdatePet","docId","updatePet","updateData","DeletePet","deletePet","deleteData"],"sources":["D:/PhatTrienUngDungMobile/Project/Final/Shops_Pet/Shops_Pet/redux/actions/petActions.js"],"sourcesContent":["export const CREATE_PET = \"CREATE_PET\";\r\nexport const UPDATE_PET = \"UPDATE_PET\";\r\nexport const DELETE_PET = \"DELETE_PET\";\r\nexport const GETALL_PET = \"GETALL_PET\";\r\nexport const SEARCH_PET = \"SEARCH_PET\";\r\n//action creator\r\n//get all\r\nexport const getAllPet = (Shop) => {\r\n  return {\r\n    type: \"GETALL_PET\",\r\n    payload: Shop,\r\n  };\r\n};\r\n\r\nexport const fetchAllPet = () => {\r\n  console.log(\"fetchAllPet\");\r\n  return (dispatch) => {\r\n    const getData = async () => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:5000/Shop\");\r\n        const pet = await response.json();\r\n        console.log(\"here\", pet);\r\n        //dispatch action to reducer\r\n        dispatch(getAllPet(pet));\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n    getData();\r\n  };\r\n};\r\n//search\r\nexport const SearchPet = (pet) => {\r\n  return {\r\n    type: SEARCH_PET,\r\n    payload: pet,\r\n  };\r\n};\r\n\r\nexport const searchPet = (key) => {\r\n  return (dispatch) => {\r\n    const getData = async () => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:5000/searchPet/\" + key);\r\n        const pet = await response.json();\r\n        // console.log(books)\r\n        dispatch(SearchPet(pet));\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n    getData();\r\n  };\r\n};\r\n\r\n//create\r\nexport const createPet = (pet) => {\r\n  return {\r\n    type: \"CREATE_PET\",\r\n    payload: pet,\r\n  };\r\n};\r\n\r\nexport const postPet = (pet) => {\r\n  return (dispatch) => {\r\n    const addData = async () => {\r\n      try {\r\n        await fetch(\"http://localhost:5000/addPet\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(pet),\r\n        });\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n    addData();\r\n    dispatch(createPet(pet));\r\n  };\r\n};\r\n\r\n//update\r\nexport const UpdatePet = (docId, pet) => {\r\n  return {\r\n    type: \"UPDATE_PET\",\r\n    payload: { docId: docId, pet },\r\n  };\r\n};\r\n\r\nexport const updatePet = (docId, pet) => {\r\n  console.log(\"docId\", docId);\r\n  console.log(\"pet\", pet);\r\n  return (dispatch) => {\r\n    const updateData = async () => {\r\n      try {\r\n        await fetch(`http://localhost:5000/updatePet/${docId}`, {\r\n          method: \"PUT\",\r\n          headers: {\r\n            Accept: \"application/json\", \r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(pet),\r\n        });\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n    updateData();\r\n    dispatch(UpdatePet(docId, pet));\r\n    dispatch(fetchAllPet());\r\n  };\r\n};\r\n\r\n//delete\r\nexport const DeletePet = (docId) => {\r\n  return {\r\n    type: \"DELETE_PET\",\r\n    payload: { docId },\r\n  };\r\n};\r\n\r\nexport const deletePet = (docId) => {\r\n  return (dispatch) => {\r\n    const deleteData = async () => {\r\n      try {\r\n        await fetch(`http://localhost:5000/deletePet/${docId}`, {\r\n          method: \"DELETE\",\r\n        });\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n    deleteData();\r\n    dispatch(DeletePet(docId));\r\n    dispatch(fetchAllPet());\r\n  };\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}